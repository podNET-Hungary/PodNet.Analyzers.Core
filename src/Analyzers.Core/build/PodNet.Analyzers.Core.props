<Project>

	<PropertyGroup>
		<IsRoslynComponent>true</IsRoslynComponent>
		<EnforceExtendedAnalyzerRules>true</EnforceExtendedAnalyzerRules>

		<PodNetIncludeAnalyzer>true</PodNetIncludeAnalyzer>
		<PodNetIncludeAnalyzerCore>true</PodNetIncludeAnalyzerCore>
		<PodNetIncludeLibPlaceholder>true</PodNetIncludeLibPlaceholder>

		<PodNetIncludeLegacyPs1Scripts>true</PodNetIncludeLegacyPs1Scripts>
		
		<!-- When packing using PodNet.NuGet.Core, don't automatically include build output or symbols. -->
		<PodNetStandardNuGetLibLayout>false</PodNetStandardNuGetLibLayout>

		<!-- Only means the resulting package will be set to PrivateAssets="all", IncludeAssets="runtime; build; native; contentfiles; analyzers" when installed via VS or CLI. Consumer can opt out by editing the .csproj file, and the analyzer can opt out by setting this value to false. Info: https://github.com/NuGet/Home/wiki/DevelopmentDependency-support-for-PackageReference -->
		<DevelopmentDependency>true</DevelopmentDependency>

	</PropertyGroup>

	<ItemGroup Condition="'$(PodNetIncludeAnalyzer)' == 'true'">
		<TfmSpecificPackageFile Include="$(OutputPath)*.dll"
								PackagePath="analyzers/dotnet/cs" />
	</ItemGroup>

	<ItemGroup Condition="'$(PodNetIncludeLegacyPs1Scripts)' == 'true'">
		<None Include="$(MSBuildThisFileDirectory)install.ps1"
			  Pack="true"
			  PackagePath="tools"
			  Link="PodNet.Analyzers.Core/tools/install.ps1"
			  Visible="false" />

		<None Include="$(MSBuildThisFileDirectory)uninstall.ps1"
			  Pack="true"
			  PackagePath="tools"
			  Link="PodNet.Analyzers.Core/tools/uninstall.ps1"
			  Visible="false" />
	</ItemGroup>
	
	<ItemGroup>
		<None Condition="'$(PodNetIncludeAnalyzerCore)' == 'true'"
			  Include="$(MSBuildThisFileDirectory)../lib/netstandard2.0/*.dll"
			  Pack="true"
			  PackagePath="analyzers/dotnet/cs"
			  LinkBase="PodNet.Analyzers.Core/analyzers/dotnet/cs"
			  Visible="false" />
		<None Condition="('$(PodNetIncludeLibPlaceholder)' == 'true') and '$(IncludeBuildOutput)' != 'true'"
			  Include="$(MSBuildThisFileDirectory)_._"
			  Pack="true"
			  PackagePath="lib/netstandard2.0"
			  Link="PodNet.Analyzers.Core/lib/netstandard2.0/_._"
			  Visible="false" />
	</ItemGroup>

</Project>